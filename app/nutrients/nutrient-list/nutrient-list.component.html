<ActionBar class="action-bar" title="Nutrients">
    <NavigationButton icon="res://ic_menu_white_24dp" (tap)="drawerSvc.toggle()"></NavigationButton>
    <ActionItem (tap)="isSearching = !isSearching" ios.systemIcon="12" ios.position="right" android.systemIcon="ic_menu_search_holo_dark"
        text="Search"></ActionItem>
    <ActionItem (tap)="changeQuery()">
        <Button text="&#xf0b0;" class="fa action-item"></Button>
    </ActionItem>
</ActionBar>
<TabView androidSelectedTabHighlightColor="#fff" selectedTabTextColor="#fff" tabTextColor="Cyan" tabBackgroundColor="#5677FC">
    <StackLayout *tabItem="{title: 'Macronutrients'}">
        <SearchBar *ngIf="!isLoadingMacros && isSearching" #searchTerm hint="Search nutrient" (clear)="clearSearchMacros()" [text]="searchInputMacros"
            (submit)="searchMacros(searchTerm.text)"></SearchBar>
        <GridLayout rows="*">
            <ActivityIndicator row="0" class="activity-indicator" width="75" height="75" [visibility]="isLoadingMacros ? 'visible' : 'collapse'"
                [busy]="isLoadingMacros"></ActivityIndicator>
            <RadListView row="0" class="list-group" [items]="filteredMacronutrients" pullToRefresh="true" (pullToRefreshInitiated)="refreshMacros($event)"
                selectionBehavior="Press" (itemSelected)="openDetails($event, 'macronutrients')">
                <template tkListItemTemplate let-nutrient="item">
                    <StackLayout class="list-group-item" borderBottomWidth="1" borderBottomColor="Cyan">
                        <Label class="list-group-item-heading" textWrap="true" [text]="nutrient.name"></Label>
                        <Label class="list-group-item-text" textWrap="true" [text]="nutrient.category"></Label>
                    </StackLayout>
                </template>
            </RadListView>
        </GridLayout>
    </StackLayout>
    <StackLayout *tabItem="{title: 'Micronutrients'}">
        <SearchBar *ngIf="!isLoadingMicros && isSearching" #searchTerm hint="Search nutrient" (clear)="clearSearchMicros()" [text]="searchInputMicros"
            (submit)="searchMicros(searchTerm.text)"></SearchBar>
        <GridLayout rows="*">
            <ActivityIndicator row="0" class="activity-indicator" width="75" height="75" [visibility]="isLoadingMicros ? 'visible' : 'collapse'"
                [busy]="isLoadingMicros"></ActivityIndicator>
            <RadListView row="0" class="list-group" [items]="filteredMicronutrients" pullToRefresh="true" (pullToRefreshInitiated)="refreshMicros($event)"
                selectionBehavior="Press" (itemSelected)="openDetails($event, 'micronutrients')">
                <template tkListItemTemplate let-nutrient="item">
                    <StackLayout class="list-group-item" borderBottomWidth="1" borderBottomColor="Cyan">
                        <Label class="list-group-item-heading" textWrap="true" [text]="nutrient.name"></Label>
                        <Label class="list-group-item-text" textWrap="true" [text]="nutrient.category"></Label>
                    </StackLayout>
                </template>
            </RadListView>
        </GridLayout>
    </StackLayout>
</TabView>